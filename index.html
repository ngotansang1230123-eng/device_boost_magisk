<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Scary Hacker Console ‚Äî ngotansang</title>
<style>
  :root{
    --bg:#04040a;
    --text:#00ff88;
    --muted:#0b3b2b;
    --accent:#ff6b6b;
  }
  html,body{ height:100%; margin:0; background: radial-gradient(ellipse at top, #001 0%, var(--bg) 50%); font-family: "Courier New", Courier, monospace; color:var(--text); }
  .wrap{ max-width:1000px; margin:18px auto; padding:18px; }
  .console{ background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.12)); border:1px solid rgba(0,255,136,0.06); box-shadow: 0 20px 60px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.02); border-radius:8px; padding:14px; min-height:520px; position:relative; overflow:hidden; }
  .console::before{ content:""; pointer-events:none; position:absolute; inset:0; background-image: linear-gradient(rgba(255,255,255,0.01) 1px, transparent 1px); background-size:100% 3px; mix-blend-mode:overlay; }
  .topbar{ display:flex; gap:8px; margin-bottom:12px; align-items:center; }
  .dot{ width:10px;height:10px;border-radius:50%; box-shadow:0 0 8px rgba(0,0,0,0.6) inset; }
  .dot.red{ background:#ff6b6b; } .dot.yellow{ background:#ffd166; } .dot.green{ background:#7bf77b; }
  .output{ font-size:13px; line-height:1.45; white-space:pre-wrap; word-break:break-word; max-height:420px; overflow:auto; padding-right:8px; }
  .line{ color:var(--text); display:block; margin:0 0 6px; }
  .muted{ color:var(--muted); }
  .accent{ color:var(--accent); font-weight:700; }
  .hex{ color:#61dafb; }
  .binary{ color:#9df58a; }
  .cursor{ display:inline-block; width:8px; height:18px; background:var(--text); margin-left:6px; vertical-align:middle; animation:blink 1s steps(2,start) infinite; opacity:0.95; }
  @keyframes blink{ 50%{ opacity:0 } }
  .glitch{ position:absolute; top:8%; left:4%; right:4%; bottom:8%; pointer-events:none; background:transparent; mix-blend-mode:screen; opacity:0.05; filter:blur(1px); animation:glitch-move 6s linear infinite; }
  @keyframes glitch-move { 0%{transform:translate(0,0)} 25%{transform:translate(-6px,2px)} 50%{transform:translate(2px,-4px)} 75%{transform:translate(-2px,3px)} 100%{transform:translate(0,0)} }
  .output::-webkit-scrollbar{ width:10px; } .output::-webkit-scrollbar-thumb{ background:rgba(0,255,136,0.07); border-radius:99px; border:2px solid transparent; background-clip:padding-box; }
  footer.note{ margin-top:10px; color:var(--muted); font-size:13px; }
  button.control{ background:transparent; border:1px solid rgba(0,255,136,0.06); color:var(--text); padding:6px 10px; border-radius:6px; cursor:pointer; }
  button.control:hover{ border-color:rgba(0,255,136,0.18); }
</style>
</head>
<body>
  <div class="wrap">
    <div class="console" id="console">
      <div class="topbar">
        <div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div>
        <div style="flex:1"></div>
        <button class="control" id="btn-clear">Clear</button>
      </div>

      <div class="output" id="output" aria-live="polite"></div>
      <div class="glitch" aria-hidden="true"></div>
      <footer class="note">* NGO TAN SANG DEV</footer>
    </div>
  </div>

<script>
(() => {
  // --- T√äN ƒê√É G·∫ÆN C·ª®NG ---
  const NAME = "ngotansang";

  const output = document.getElementById('output');
  const btnClear = document.getElementById('btn-clear');

  // buffer gi·ªõi h·∫°n ƒë·ªÉ tr√°nh d√πng qu√° nhi·ªÅu b·ªô nh·ªõ
  const MAX_LINES = 800;
  let lineCount = 0;

  function randRange(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }
  function randomHex(len){
    const chars = "0123456789abcdef";
    let s="";
    for(let i=0;i<len;i++) s += chars[Math.floor(Math.random()*chars.length)];
    return s;
  }
  function randomBinary(bits){
    let s="";
    for(let i=0;i<bits;i++) s += (Math.random()>0.5? "1":"0");
    return s.replace(/(.{8})/g,"$1 ").trim();
  }
  function randomGlitchText(len){
    const chars = "·ö†·ö¢·ö¶·ö®·ö±·ö≤êåÄêåÅêåÇ0123456789!@#$%^&*()_+-=[]{};:',.<>/?~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
    let s="";
    for(let i=0;i<len;i++) s += chars[Math.floor(Math.random()*chars.length)];
    return s;
  }

  // d√≤ng m·∫´u c√≥ tham chi·∫øu NAME
  function generateScriptLines(){
    return [
      "[INIT] boot sequence engaged...",
      "SESSION OWNER: " + NAME,
      "SYSTEM: /dev/???: reading shadows...",
      ">>> IDENTIFIER: " + NAME.toUpperCase() + "_" + randomHex(4),
      "TRACE: 0x" + randomHex(8),
      "BINARY STREAM: " + randomBinary(64),
      "WARNING: integrity breach? -- " + (Math.random()*1.5).toFixed(2) + "%",
      ">> pinging ghost nodes...",
      "resp from 10.13." + randRange(0,255) + "." + randRange(1,254) + " - TTL=1",
      "-> loading spectre module: [‚ñà‚ñà‚ñà‚ñà‚ñà-----] " + randRange(10,99) + "%",
      "decrypting... key fragment: " + randomHex(16),
      "ACCESS: [‚®Ø] | BACKDOOR: [‚úì]",
      "LOG: \"She said: \\\"DON'T LOOK BEHIND\\\"\"",
      "ALERT: ambient anomaly: 0x" + randomHex(6),
      ">>>> beginning memory purge",
      "sector[" + String(randRange(100,999)).padStart(4,"0") + "] : " + randomBinary(32),
      "[UNKNOWN SIGNAL] payload follows:",
      randomGlitchText(48),
      ">>> 'do not wake it' -- found in /var/log/0xdeadbeef",
      "PROCESS: spawn phantom-thread (id=" + randRange(1000,9999) + ") owner=" + NAME,
      ">> rotating keys, rotating stars...",
      ">>> scan complete. results: " + (Math.random()>0.6? "COMPROMISED" : "UNSTABLE"),
      "leaving breadcrumbs... êåÜêåÑêåá",
      "[END] closing channels.",
      "‚Äî"
    ];
  }

  // t·∫°o d√≤ng m·ªõi v√†o output (kh√¥ng x√≥a to√†n b·ªô ƒë·ªÉ console li√™n t·ª•c in)
  function appendLine(text, styleClass){
    const div = document.createElement('div');
    div.className = 'line' + (styleClass ? ' ' + styleClass : '');
    // highlight occurrences of NAME
    if(text.indexOf(NAME) !== -1){
      // ƒë∆°n gi·∫£n: t√°ch v√† thay th·∫ø b·∫±ng span.accent
      const parts = text.split(NAME);
      for(let i=0;i<parts.length;i++){
        div.appendChild(document.createTextNode(parts[i]));
        if(i < parts.length - 1){
          const s = document.createElement('span');
          s.className = 'accent';
          s.textContent = NAME;
          div.appendChild(s);
        }
      }
    } else {
      div.textContent = text;
    }
    output.appendChild(div);
    lineCount++;
    // x√≥a b·ªõt n·∫øu v∆∞·ª£t MAX_LINES
    while(lineCount > MAX_LINES){
      const first = output.firstChild;
      if(first) { output.removeChild(first); lineCount--; } else break;
    }
    // auto scroll
    output.scrollTop = output.scrollHeight;
  }

  // ch·ª©c nƒÉng "g√µ" m·ªôt d√≤ng (hi·ªáu ·ª©ng typing)
  function typeLine(text){
    return new Promise(resolve => {
      const span = document.createElement('div');
      span.className = 'line';
      output.appendChild(span);
      let i = 0;
      function step(){
        if(i >= text.length){
          const cursor = document.createElement('span');
          cursor.className = 'cursor';
          span.appendChild(cursor);
          output.scrollTop = output.scrollHeight;
          setTimeout(() => { if(cursor.parentNode) cursor.parentNode.removeChild(cursor); resolve(); }, 200 + Math.random()*600);
          return;
        }
        const ch = text[i++];
        const node = document.createTextNode(ch);
        span.appendChild(node);

        // highlight NAME on the fly
        if(span.textContent.endsWith(NAME)){
          // remove last NAME chars and replace with styled span
          for(let k=0;k<NAME.length;k++){
            const last = span.lastChild;
            if(last && last.nodeType === 3){
              last.textContent = last.textContent.slice(0,-1);
              if(last.textContent.length === 0) span.removeChild(last);
            } else break;
          }
          const nameSpan = document.createElement('span');
          nameSpan.className = 'accent';
          nameSpan.textContent = NAME;
          span.appendChild(nameSpan);
        }

        let delay = 8 + Math.random()*36;
        if(/[,.:\-\[\]]/.test(ch)) delay += 80;
        if(Math.random() < 0.02) delay += 260;
        output.scrollTop = output.scrollHeight;
        setTimeout(step, delay);
      }
      step();
      
      span.addEventListener('DOMNodeRemoved', () => {}, {once:true});
      lineCount++;
      while(lineCount > MAX_LINES){
        const first = output.firstChild;
        if(first) { output.removeChild(first); lineCount--; } else break;
      }
    });
  }

  
  let running = true;
  async function runForever(){
    while(running){
      const header = ">> terminal://nightwatch - session " + randomHex(6) + " ‚Äî user: " + NAME;
      appendLine(header, 'muted');

      const lines = generateScriptLines();
      for(let i=0;i<lines.length;i++){

        if(Math.random() < 0.14){
          const spamCount = randRange(1,5);
          for(let s=0;s<spamCount;s++){
            const g = randomGlitchText(randRange(8,26));
            await typeLine(g);
          }
        }
        await typeLine(lines[i]);

        await sleep(randRange(80,520));
      }

      for(let f=0; f< randRange(2,4); f++){
        const flick = Math.random()>0.5 ? "!!! SYSTEM GLITCH !!!" : "‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí";
        await typeLine(flick);
        await sleep(140 + Math.random()*380);
      }

      appendLine("SESSION: ITERATION COMPLETE ‚Äî " + new Date().toLocaleString(), 'accent');

      await sleep(400 + Math.random()*900);
    }
  }

  function sleep(ms){ return new Promise(r => setTimeout(r, ms)); }

 
  runForever();

 
  btnClear.addEventListener('click', () => {
    output.innerHTML = "";
    lineCount = 0;
  });

  // subtle background flicker
  setInterval(() => {
    document.querySelector('.glitch').style.opacity = (0.02 + Math.random()*0.08).toFixed(2);
  }, 1100);

})();
</script>
</body>
</html>
